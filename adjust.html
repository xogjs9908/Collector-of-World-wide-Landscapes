<!DOCTYPE HTML>

<html lang="ko">
	<head>
		<title>Image Half-Shorten</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
        <script language="javascript">

            function ResizeImage() {
                var filesToUpload = document.getElementById('imageFile').files;
                var file = filesToUpload[0];

                //문서 내에 img객체 생성
                var img = document.createElement("img");
                //File reader 생성
                var reader = new FileReader();

                //파일이 읽혀지면 아래 함수가 실행
                reader.onload = function(e) {
                    img.src = e.target.result;

                    //html5 canvas 객체 생성
                    var canvas = document.createElement("canvas");
                    var ctx = canvas.getContext("2d");

                    //캔버스에 업로드된 이미지 제시
                    ctx.drawImage(img, 0, 0);
                    var width = img.width;
                    var height = img.height;

                    

                    width /= 2;
                    height /= 2;
                    canvas.width = width;
                    canvas.height = height;

                    //캔버스에 변경된 크기의 이미지 다시 제시
                    var ctx = canvas.getContext("2d");
                    ctx.drawImage(img, 0, 0, width, height);

                    //캔버스에 있는 이미지를 img태그로
                    const dataurl = canvas.toDataURL("image/jpeg");
                    document.getElementById('output').src = dataurl;
                }
                reader.readAsDataURL(file);
            }


        </script>
	</head>
	<body class="is-preload">
        <!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
								<header id="header">
									<a href="index.html" class="logo"><strong>Editorial</strong> by Team Gook-Bap</a>
									<ul class="icons">
										<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
										<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
										<li><a href="#" class="icon brands fa-snapchat-ghost"><span class="label">Snapchat</span></a></li>
										<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
										<li><a href="#" class="icon brands fa-medium-m"><span class="label">Medium</span></a></li>
									</ul>
								</header>

							<!-- Content -->
                                <section>
                                    <header class="main">
                                        <h1>Image Half - Shorten</h1>
                                    </header>

                                    <h2>다운로드받은 이미지의 크기가 너무 커 걱정이라면, 이 페이지의 툴을 이용해보세요!<br>이미지의 높이와 너비를 절반 크기로 축소시켜줍니다!</h2>

                                </section>
                            
								<section>
                                    <h2>사용법</h2>
                                    <p>아래의 '파일 선택'버튼에서 파일을 선택한 뒤, 'resize image'버튼을 클릭하면 변환된 이미지가 생성됩니다. 그것을 다운로드하세요!</p>
                                    <p>만약 사진이 뜨지 않는다면, 'resize image'버튼을 한번 더 클릭하면 변환된 사진이 생성됩니다.</p>
                                    </section>
                                    <section>
                                    <div>
                                        <input id="imageFile" type="file">
                                    </div>
									<p>        </p>
									<div>
									</div>

                                    <div>
                                        <input type="button" value="Resize Image" onclick="ResizeImage()"/>
                                    </div>

                                    <div>
                                        <img src="" id="output">
                                    </div>
                                
								</section>	

                                <section>
									<header class="major">
										<h2>Contact Us</h2>
									</header>
									<ul class="contact">
										<li class="icon solid fa-envelope"><a href="#">sweater7719@cau.ac.kr</a></li>
										<li class="icon solid fa-phone">+82 031-670-3182</li>
										<li class="icon solid fa-home">경기도 안성시 대덕면 서동대로 4726 중앙대학교 예술공학대학 국밥팀</li>
									</ul>
								</section>
								<!-- Section -->
						</div>		
					</div>

				<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">

							<!-- Search -->
								<section id="search" class="alt">
									<form method="post" action="#">
										<input type="text" name="query" id="query" placeholder="Search" />
									</form>
								</section>

							<!-- Menu -->
								<nav id="menu">
									<header class="major">
										<h2>Menu</h2>
									</header>
									<ul>
										<li><a href="index.html">Homepage</a></li>
										<li><a href="introduction.html">Introduction</a></li>
										<li><a href="adjust.html">Image Half-Shorten</a></li>
										<li><a href="asia.html">asia</a></li>
										<li><a href="europe.html">europe</a></li>
										<li><a href="oceania.html">oceania</a></li>
										<li><a href="africa.html">africa</a></li>
										<li><a href="northamerica.html">north america</a></li>
										<li><a href="southamerica.html">south america</a></li>
										<li><a href="feedback.html">Give us Feedback!</a></li>
									</ul>
								</nav>


							<!-- Section -->
								<section>
									<header class="major">
										<h2>Contact Us</h2>
									</header>
									<ul class="contact">
										<li class="icon solid fa-envelope"><a href="#">asdf1234@cau.ac.kr</a></li>
										<li class="icon solid fa-phone">+82 031-670-3182</li>
										<li class="icon solid fa-home">경기도 안성시 대덕면 서동대로 4726 중앙대학교 예술공학대학 국밥팀</li>
									</ul>
								</section>

							<!-- Footer -->
								<footer id="footer">
									<p class="copyright">&copy; Untitled. All rights reserved. Demo Images: <a href="https://unsplash.com">Unsplash</a>. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
								</footer>

						</div>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>